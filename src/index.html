<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>N-Puzzle</title>

  <link rel="stylesheet" href="css/application.css">

  <!-- legacy libraries -->
  <script src="lib/jquery/jquery-1.7.2.min.js"></script>
  <script src="lib/underscore-1.10.2/underscore-min.js"></script>
  <script src="lib/backbone-1.4.0/backbone-min.js"></script>
  <script src="lib/buckets/buckets-20120801.min.js"></script>

  <!-- vue -->
  <!-- https://cdn.jsdelivr.net/npm/vue@2/dist/vue.{js,min.js} -->
  <script src="lib/vue-2.16.2/vue.js"></script>

  <!-- http-vue-loader -->
  <!-- https://cdn.jsdelivr.net/npm/http-vue-loader@1.4.2/src/httpVueLoader.{js,min.js} -->
  <script src="lib/http-vue-loader-1.4.2/httpVueLoader.js"></script>

  <!-- helpers -->
  <script src="js/helpers/PuzzleStateRenderer.js"></script>
  <script src="js/helpers/TreeLayout.js"></script>
  <script src="js/helpers/Util.js"></script>

  <!-- models -->
  <script src="js/models/ApplicationState.js"></script>
  <script src="js/models/Configuration.js"></script>
  <script src="js/models/PuzzleState.js"></script>
  <script src="js/models/SearchTree.js"></script>

  <!-- uninformed search algorithms -->
  <script src="js/models/algorithms/BreadthFirstSearch.js"></script>
  <script src="js/models/algorithms/DepthFirstSearch.js"></script>
  <script src="js/models/algorithms/IterativeDeepeningSearch.js"></script>

  <!-- informed search algorithms -->
  <script src="js/models/algorithms/InformedSearch.js"></script>
  <script src="js/models/algorithms/GreedySearch.js"></script>
  <script src="js/models/algorithms/AStarSearch.js"></script>

  <!-- views -->
  <script src="js/views/AlgorithmStats.js"></script>
  <script src="js/views/ApplicationView.js"></script>
  <script src="js/views/ControlPanel.js"></script>
  <script src="js/views/TreeView.js"></script>
  <script src="js/views/Tutorial.js"></script>

  <!-- vue components -->
  <script>
    [
      'algorithm-stats',
      'control-panel',
      'help-modal',
      'puzzle-state-editor',
      'puzzle-state-editor-cell',
      'puzzle-state-view',
      'tutorial'
    ].forEach((component) => {
      Vue.component(component, httpVueLoader(`js/components/${component}.vue`));
    });
  </script>
</head>
<body>

<!-- Placeholder for the ControlPanel view -->
<div id="control_panel"></div>

<div id="main">
  <!-- Markup for the TreeView view -->
  <div id="tree_view" class="invisible">
    <canvas class="main"></canvas>
    <div id="viewport">
      <div id="fakescrolldiv"></div>
    </div>
  </div>

  <!-- Placeholder for the Tutorial view -->
  <div id="tutorial" class="invisible"></div>
</div>

<script>
  // Set up the default configuration
  const configuration = new Configuration();
  configuration.getInitialState().setTiles([0, 2, 3, 1, 4, 5, 8, 7, 6]);
  configuration.getGoalState().setTiles([1, 2, 3, 8, 0, 4, 7, 6, 5]);

  // Initialise the application view
  new ApplicationView({
    $controlPanel: $('#control_panel'),
    $treeView: $('#tree_view'),
    debug: false,
    model: new ApplicationState({
      'configuration': configuration
    })
  });
</script>
</body>
</html>
